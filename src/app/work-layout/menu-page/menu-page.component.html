<header>
    <div class="header" *ngIf="menuService.sub_categories && !menuService.sub_categories_loading">
        <div class="categories-container">
            <span 
            (click)="setCategory('64738c84699f77307907676d')"
            class="category">
                <img class="icon" src="../../../assets/food.svg" alt="Food">
                <b 
                [ngClass]="selectedCategory('64738c84699f77307907676d')"
                >{{html.kitchen[menuService.language]}}</b>
            </span>
            <!-- <b>/</b> -->
            <span 
            class="category"
            (click)="setCategory('64738c0f699f773079076767')">
                <img class="icon" src="../../../assets/bar.svg" alt="Bar">
                <b 
                [ngClass]="selectedCategory('64738c0f699f773079076767')"
                >{{html.bar[menuService.language]}}</b>
            </span>
        </div>
        <div class="sub-categories-container">
            <mat-form-field>
                <mat-select [(ngModel)]="menuService.sub_category" (ngModelChange)="setSubCategory()">
                    <ng-container *ngFor="let sub_category of menuService.sub_categories">
                        <mat-option *ngIf="sub_category.category == menuService.category" class="option"  [value]="sub_category._id">
                            {{sub_category.name[menuService.language]}}
                          </mat-option>
                    </ng-container>
                </mat-select>
            </mat-form-field>
        </div>
    </div>
    <div class="decorator">
        <span class="yellow-line"></span>
        <span class="white-line"></span>
    </div>
</header>
<section *ngIf="menuService.positions && !menuService.positions_loading">
    <ng-container *ngFor="let position of menuService.positions | positionFilter: menuService.sub_category">
        <div *ngIf="position.image" class="position">
            <div class="image">
                <img class="position-image" [src]="position.image" [alt]="position.name[menuService.language]">
            </div>
            <div class="info">
                <span class="name">
                    <h3>{{position.name[menuService.language]}}</h3>
                </span>
                <span [ngClass]="classDiscription(position)" >
                    <b class="price-info">
                        <ng-container *ngIf="position.weight && position.weight[menuService.language]">
                            <b class="active weigth-price">{{position.weight[menuService.language]}}</b>
                            &nbsp;
                            /
                            &nbsp;
                        </ng-container>
                        <ng-container *ngIf="position.cost">
                            <b class="weigth-price">  <b class="active weigth-price"> {{position.cost}} </b> {{html.cost[menuService.language]}} </b>
                        </ng-container>
                      
                    </b>
                    <img 
                    *ngIf="position.description && position.description[menuService.language]"
                    [routerLink]="['/position']"
                    [queryParams]="{ _id: position._id }"
                    class="more" src="../../../assets/more.svg" 
                    alt="More">
                </span>
            </div>
        </div>
        <div *ngIf="!position.image" class="position-2">
            <ng-container *ngIf="position.description && position.description[menuService.language]; else elseTemplate">
                <div class="info">
                    <span class="name-2">
                        <h4>{{position.name[menuService.language]}}</h4>
                    </span>
                    <span class="gramm-2">
                        <b class="price-info">
                            <ng-container *ngIf="position.weight && position.weight[menuService.language]">
                                <b class="active weigth-price">{{position.weight[menuService.language]}}</b>
                                &nbsp;
                                /
                                &nbsp;
                            </ng-container>
                            <ng-container *ngIf="position.cost">
                                <b class="weigth-price">  <b class="active weigth-price"> {{position.cost}} </b> {{html.cost[menuService.language]}} </b>
                            </ng-container>
                        </b>
                    </span>
                </div>
                <div class="more-container">
                    <img 
                    [routerLink]="['/position']" 
                    [queryParams]="{ _id: position._id }"
                    class="more" src="../../../assets/more.svg" alt="More">
                </div>
            </ng-container>
            <ng-template #elseTemplate>
                <h4>{{position.name[menuService.language]}}</h4>
                <span class="gramm-3">
                    <b class="price-info">
                        <ng-container *ngIf="position.weight && position.weight[menuService.language]">
                            <b class="active weigth-price">{{position.weight[menuService.language]}}</b>
                            &nbsp;
                            /
                            &nbsp;
                        </ng-container>
                        <ng-container *ngIf="position.cost">
                            <b class="weigth-price">  <b class="active weigth-price"> {{position.cost}} </b> {{html.cost[menuService.language]}} </b>
                        </ng-container>
                    </b>
                </span>
            </ng-template>
        </div>
    </ng-container>
    <h3 *ngIf="menuService.positions && ( menuService.positions | positionFilter: menuService.sub_category).length == 0 && !menuService.positions_loading ">Не найденны позиции!</h3>
</section>
<h1 *ngIf="!menuService.positions && !menuService.positions_loading">
    Ошибка поиска позиций!
</h1>
<div *ngIf="menuService.sub_categories_loading || menuService.positions_loading" class="loading-menu">
    <mat-spinner></mat-spinner>
</div>